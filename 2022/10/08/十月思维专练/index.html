<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>十月思维专练 | TangM</title><meta name="author" content="TangM"><meta name="copyright" content="TangM"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="记录2022年10月份Codeforces做题记录  Ela Sorting Books 题目大意 ​ 给一个长度为的字符串，把他们平分成份，每份取MEX再重新组成一个长度为的新串，求字典序最大串。 代码思路 统计出每个字母的数量，贪心从小往大找即可。 1234567891011121314151617181920212223242526272829303132333435363">
<meta property="og:type" content="article">
<meta property="og:title" content="十月思维专练">
<meta property="og:url" content="http://example.com/2022/10/08/%E5%8D%81%E6%9C%88%E6%80%9D%E7%BB%B4%E4%B8%93%E7%BB%83/index.html">
<meta property="og:site_name" content="TangM">
<meta property="og:description" content="记录2022年10月份Codeforces做题记录  Ela Sorting Books 题目大意 ​ 给一个长度为的字符串，把他们平分成份，每份取MEX再重新组成一个长度为的新串，求字典序最大串。 代码思路 统计出每个字母的数量，贪心从小往大找即可。 1234567891011121314151617181920212223242526272829303132333435363">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2022/12/01/xgdZ61ciJNY2P3S.jpg">
<meta property="article:published_time" content="2022-10-08T12:55:33.000Z">
<meta property="article:modified_time" content="2022-12-01T07:31:28.983Z">
<meta property="article:author" content="TangM">
<meta property="article:tag" content="博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2022/12/01/xgdZ61ciJNY2P3S.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2022/10/08/%E5%8D%81%E6%9C%88%E6%80%9D%E7%BB%B4%E4%B8%93%E7%BB%83/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":10,"languages":{"author":"作者: TangM","link":"链接: ","source":"来源: TangM","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '十月思维专练',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-12-01 15:31:28'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://s2.loli.net/2022/12/01/9zEJ3l7L2oTfOXB.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">7</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://s2.loli.net/2022/12/01/xgdZ61ciJNY2P3S.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">TangM</a></span><div id="menus"><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">十月思维专练</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-10-08T12:55:33.000Z" title="发表于 2022-10-08 20:55:33">2022-10-08</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-12-01T07:31:28.983Z" title="更新于 2022-12-01 15:31:28">2022-12-01</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">12k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>54分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="十月思维专练"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><blockquote>
<p>记录2022年10月份Codeforces做题记录</p>
</blockquote>
<h3 id="ela-sorting-books">Ela Sorting Books</h3>
<h4 id="题目大意">题目大意</h4>
<p>​ 给一个长度为<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.357ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 600 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container></span>的字符串，把他们平分成<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.179ex" height="1.595ex" role="img" focusable="false" viewBox="0 -694 521 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"></path></g></g></g></svg></mjx-container></span>份，每份取MEX再重新组成一个长度为<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.179ex" height="1.595ex" role="img" focusable="false" viewBox="0 -694 521 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"></path></g></g></g></svg></mjx-container></span>的新串，求字典序最大串。</p>
<h4 id="代码思路">代码思路</h4>
<p>统计出每个字母的数量，贪心从小往大找即可。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e3</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">char</span> s[N];</span><br><span class="line"><span class="type">int</span> n,k,st[<span class="number">30</span>];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;k;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%s"</span>,s);</span><br><span class="line">	<span class="built_in">ms</span>(st,<span class="number">0</span>);</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++) st[s[i]-<span class="string">'a'</span>]++;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">while</span>(k&gt;<span class="number">0</span>) {</span><br><span class="line"> </span><br><span class="line">		<span class="keyword">if</span>(st[<span class="number">0</span>]==<span class="number">0</span>) {</span><br><span class="line">			<span class="keyword">while</span>(k--) cout&lt;&lt;<span class="string">"a"</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		}</span><br><span class="line"> </span><br><span class="line">		<span class="type">int</span> mi=inf;</span><br><span class="line">		<span class="type">int</span> res;</span><br><span class="line">		<span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">25</span>;i++) {</span><br><span class="line">			<span class="keyword">if</span>(st[i]==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">if</span>(mi&gt;st[i]) {</span><br><span class="line">				mi = st[i];</span><br><span class="line">			}</span><br><span class="line">			cnt++;</span><br><span class="line">			res = i;</span><br><span class="line">			<span class="keyword">if</span>(cnt==n/k) {</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line"> </span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">25</span>;i++) {</span><br><span class="line">			st[i] -= mi;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="built_in">min</span>(k,mi);i&gt;<span class="number">0</span>;i--) cout&lt;&lt;<span class="built_in">char</span>(res+<span class="number">1</span>+<span class="string">'a'</span>);</span><br><span class="line"> </span><br><span class="line">		k -= mi;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	cout&lt;&lt;endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="elas-fitness-and-the-luxury-number">Ela's Fitness and the Luxury
Number</h3>
<h4 id="题目大意-1">题目大意</h4>
<p>给出两个数字<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.439ex;" xmlns="http://www.w3.org/2000/svg" width="2.701ex" height="2.009ex" role="img" focusable="false" viewBox="0 -694 1193.7 888"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mo" transform="translate(298,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(742.7,0)"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container></span>，求<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.439ex;" xmlns="http://www.w3.org/2000/svg" width="2.701ex" height="2.009ex" role="img" focusable="false" viewBox="0 -694 1193.7 888"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mo" transform="translate(298,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(742.7,0)"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container></span>内可以被自身开方下取整整除的数的个数。</p>
<h4 id="代码思路-1">代码思路</h4>
<p>对于一个数<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.294ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 572 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g></g></g></svg></mjx-container></span>，有 <span class="math display"><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="31.417ex" height="2.565ex" role="img" focusable="false" viewBox="0 -883.9 13886.4 1133.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"></path></g><g data-mml-node="msup" transform="translate(278,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mn" transform="translate(605,413) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(1286.6,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mo" transform="translate(1731.2,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(2120.2,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(2914.4,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mn" transform="translate(3914.7,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="msup" transform="translate(4414.7,0)"><g data-mml-node="mo"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mn" transform="translate(422,413) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(5462.4,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(6462.7,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(6962.7,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"></path></g><g data-mml-node="mo" transform="translate(7518.4,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mo" transform="translate(8574.2,0)"><path data-c="5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"></path></g><g data-mml-node="msup" transform="translate(8852.2,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mn" transform="translate(605,413) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(9860.8,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="msup" transform="translate(10305.4,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mn" transform="translate(605,413) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(11536.2,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mn" transform="translate(12536.4,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(13036.4,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(13608.4,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"></path></g></g></g></svg></mjx-container></span> 即所有<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="2.282ex" height="1.912ex" role="img" focusable="false" viewBox="0 -833.9 1008.6 844.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mn" transform="translate(605,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></svg></mjx-container></span>到<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="11.836ex" height="2.452ex" role="img" focusable="false" viewBox="0 -833.9 5231.4 1083.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(389,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(1183.2,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mn" transform="translate(2183.4,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="msup" transform="translate(2683.4,0)"><g data-mml-node="mo"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mn" transform="translate(422,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(3731.2,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(4731.4,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></svg></mjx-container></span>的数中有三个数能被x整除，那么可以直接统计$
+1<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.452ex;" xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="2.149ex" role="img" focusable="false" viewBox="0 -750 1000 950"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">到</text></g></g></g></svg></mjx-container></span>
$之间的数，再特判一下左右边界的有效数即可。</p>
<p>注意sqrt的精度问题！</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> l,r;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;l&gt;&gt;r;</span><br><span class="line"> </span><br><span class="line">	<span class="type">int</span> a = <span class="built_in">sqrt</span>(l), b = <span class="built_in">sqrt</span>(r);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//精度调整</span></span><br><span class="line">	<span class="keyword">while</span>(a*a&gt;l) a--;</span><br><span class="line">	<span class="keyword">while</span>((a+<span class="number">1</span>)*(a+<span class="number">1</span>)&lt;=l) a++;</span><br><span class="line">	<span class="keyword">while</span>(b*b&gt;r) b--;</span><br><span class="line">	<span class="keyword">while</span>((b+<span class="number">1</span>)*(b+<span class="number">1</span>)&lt;=r) b++;</span><br><span class="line"> </span><br><span class="line">	<span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">if</span>(a*a&gt;=l&amp;&amp;a*a&lt;=r) res ++;</span><br><span class="line">	<span class="keyword">if</span>(a*a+a&gt;=l&amp;&amp;a*a+a&lt;=r) res ++;</span><br><span class="line">	<span class="keyword">if</span>(a*a+a+a&gt;=l&amp;&amp;a*a+a+a&lt;=r) res ++;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">if</span>(a!=b)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span>(b*b&gt;=l&amp;&amp;b*b&lt;=r) res ++;</span><br><span class="line">        <span class="keyword">if</span>(b*b+b&gt;=l&amp;&amp;b*b+b&lt;=r) res ++;</span><br><span class="line">        <span class="keyword">if</span>(b*b+b+b&gt;=l&amp;&amp;b*b+b+b&lt;=r) res ++;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="type">int</span> temp = (b-a<span class="number">-1</span>)*<span class="number">3</span>;</span><br><span class="line">	<span class="keyword">if</span>(temp&gt;<span class="number">0</span>) res += temp;</span><br><span class="line"> </span><br><span class="line">	cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line"> </span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="ela-and-crickets">Ela and Crickets</h3>
<h4 id="题目大意-2">题目大意</h4>
<p>在一块大小为<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="4.475ex" height="1.136ex" role="img" focusable="false" viewBox="0 -491 1978 502"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(600,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mi" transform="translate(1378,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container></span>的黑白棋盘上有三个呈L型摆放的棋子，棋子只能“翻越”另一个棋子来移动。询问是否能让一个棋子到达指定地点。</p>
<h4 id="代码思路-2">代码思路</h4>
<p>通过模拟画图可以发现，初始位置的中间棋子只能到达其相同颜色相同奇偶坐标的位置，而两边棋子可以到达相同颜色的任意位置。特判如果三枚棋子出现在四个角落，它们只能移动到邻近的两条棋盘边界。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> r1,r2,r3,c1,c2,c3;</span><br><span class="line"><span class="type">int</span> x,y,n;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	cin&gt;&gt;r1&gt;&gt;c1&gt;&gt;r2&gt;&gt;c2&gt;&gt;r3&gt;&gt;c3;</span><br><span class="line">	cin&gt;&gt;x&gt;&gt;y;</span><br><span class="line"> </span><br><span class="line">	<span class="type">int</span> zx,zy;</span><br><span class="line">	<span class="keyword">if</span>(r1==r2) zx = r1;</span><br><span class="line">	<span class="keyword">else</span> zx = r3;</span><br><span class="line">	<span class="keyword">if</span>(c1==c2) zy = c1;</span><br><span class="line">	<span class="keyword">else</span> zy = c3;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">if</span>((zx==<span class="number">1</span>||zx==n)&amp;&amp;(zy==<span class="number">1</span>||zy==n)) {</span><br><span class="line">		<span class="keyword">if</span>(x==zx||y==zy) cout&lt;&lt;<span class="string">"YES"</span>&lt;&lt;endl;</span><br><span class="line">		<span class="keyword">else</span> cout&lt;&lt;<span class="string">"NO"</span>&lt;&lt;endl;</span><br><span class="line">		<span class="keyword">return</span> ;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">if</span>((zx+zy)%<span class="number">2</span>==(x+y)%<span class="number">2</span>) {</span><br><span class="line">		<span class="keyword">if</span>(zx%<span class="number">2</span>==x%<span class="number">2</span>) cout&lt;&lt;<span class="string">"YES"</span>&lt;&lt;endl;</span><br><span class="line">		<span class="keyword">else</span> cout&lt;&lt;<span class="string">"NO"</span>&lt;&lt;endl;</span><br><span class="line">	} <span class="keyword">else</span> cout&lt;&lt;<span class="string">"YES"</span>&lt;&lt;endl;</span><br><span class="line"> </span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="even-number-addicts">Even Number Addicts</h3>
<h4 id="题目大意-3">题目大意</h4>
<p>A和B两个人博弈，对于长度为n的一个数组，两人分别拿取元素，A先手，当数组被拿空时游戏结束，若A手中的数的和为偶则A胜，否则B胜。</p>
<h4 id="代码思路-3">代码思路</h4>
<p>对A来说拿多少次奇数是决胜的关键，先考虑奇数。</p>
<p>假设奇数个数为x，A至少要拿两个才能凑出偶数，B一定可以在A的后面再拿奇数，因此x%4==0</p>
<p>或x%4==3时A必胜，x%4 == 2时A必输。</p>
<p>对于x%4==1，需要思考这个多余的奇数给谁拿，若数组中偶数有奇数个，那么A可以先拿偶数，把多余的奇数留给B，A获胜，否则B获胜。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> n,o,j;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	o = <span class="number">0</span>,j = <span class="number">0</span>;</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="type">int</span> x;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)  {</span><br><span class="line">		cin&gt;&gt;x;</span><br><span class="line">		<span class="keyword">if</span>(x%<span class="number">2</span>) j++;</span><br><span class="line">		<span class="keyword">else</span> o++;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">if</span>(j%<span class="number">4</span>==<span class="number">2</span>||(j%<span class="number">4</span>==<span class="number">1</span>&amp;&amp;o%<span class="number">2</span>==<span class="number">0</span>)) cout&lt;&lt;<span class="string">"Bob"</span>&lt;&lt;endl;</span><br><span class="line">	<span class="keyword">else</span> cout&lt;&lt;<span class="string">"Alice"</span>&lt;&lt;endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="meta-set">Meta-set</h3>
<h4 id="题目大意-4">题目大意</h4>
<p>给你n个长度为k的集合，集合只由{0,1,2}组成。</p>
<p>如果有三个集合的每一项都互不相同或相同，就称这三个集合为set。</p>
<p>如果有两个set的一个集合完全相同，就称这五个集合为Meta-set。求有多少个meta-set</p>
<h4 id="代码思路-4">代码思路</h4>
<p>暴力枚举，这个题用STL写非常简单便捷。</p>
<p>把集合用vector存起来，枚举两个集合去构造另一个合法的集合，它们三个集合是个set，用map映射构造出来的集合可以由多少对其他集合构造。任意挑选两对，这五个集合就组成meta-set。最后计数一下即可。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e3</span>+<span class="number">10</span>;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; w[N];</span><br><span class="line">map&lt;vector&lt;<span class="type">int</span>&gt;, <span class="type">int</span>&gt; mp; </span><br><span class="line"><span class="type">int</span> n,k;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;k;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		w[i].<span class="built_in">resize</span>(k);</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;k;j++) cin&gt;&gt;w[i][j];</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>;j&lt;=n;j++) {</span><br><span class="line">			<span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">temp</span><span class="params">(k)</span></span>;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> t=<span class="number">0</span>;t&lt;k;t++) temp[t] = (<span class="number">6</span>-w[i][t]-w[j][t])%<span class="number">3</span>;</span><br><span class="line">			mp[temp]++;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		<span class="type">int</span> cnt = mp[w[i]];</span><br><span class="line">		res += cnt*(cnt<span class="number">-1</span>)/<span class="number">2</span>;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="monoblock">Monoblock</h3>
<h4 id="题目大意-5">题目大意</h4>
<p>给一个长度为n的数组，定义g(l,r)是l到r把相同的数分段的段数。求<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -2.411ex;" xmlns="http://www.w3.org/2000/svg" width="11.258ex" height="5.494ex" role="img" focusable="false" viewBox="0 -1362.5 4976.2 2428.3"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="munderover"><g data-mml-node="mo" transform="translate(29.2,0)"><path data-c="2211" d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z"></path></g><g data-mml-node="TeXAtom" transform="translate(0,-907.7) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mo" transform="translate(298,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(1076,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="mi" transform="translate(345.1,950) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="munderover" transform="translate(1281.1,0)"><g data-mml-node="mo" transform="translate(11.9,0)"><path data-c="2211" d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z"></path></g><g data-mml-node="TeXAtom" transform="translate(0,-907.7) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(451,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(1229,0)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g></g><g data-mml-node="mi" transform="translate(327.7,950) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="mi" transform="translate(2527.5,0)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path></g><g data-mml-node="mo" transform="translate(3004.5,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(3393.5,0)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mo" transform="translate(3691.5,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(4136.2,0)"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(4587.2,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container></span></p>
<h4 id="代码思路-5">代码思路</h4>
<p>考虑先求出原数组总贡献，再每次操作求贡献变化量。</p>
<p>对于一个位置pos，他只会影响pos-1和pos+1。</p>
<p>若a[pos]!=a[pos-1]
所有包含pos和pos-1的区域值+1，若a[pos]!=a[pos+1]所有包含pos和pos+1的区域值+1</p>
<p>每次操作可以先减去原值的贡献，再加上新值的贡献。</p>
<p>原数组总贡献可以看成全部都是a[1]，然后逐个放a[i]</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"> </span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">work</span><span class="params">(<span class="type">int</span> pos)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span>(a[pos]!=a[pos+<span class="number">1</span>]) <span class="keyword">return</span> pos * (n-pos);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">	<span class="type">int</span> res = n*(n+<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line"> </span><br><span class="line">		res += <span class="built_in">work</span>(i);</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="type">int</span> pos,x;</span><br><span class="line">	<span class="keyword">while</span>(m--) {</span><br><span class="line"> </span><br><span class="line">		cin&gt;&gt;pos&gt;&gt;x;</span><br><span class="line"> </span><br><span class="line">		res -= <span class="built_in">work</span>(pos<span class="number">-1</span>);</span><br><span class="line">		res -= <span class="built_in">work</span>(pos);</span><br><span class="line"> </span><br><span class="line">		a[pos] = x;</span><br><span class="line">		res += <span class="built_in">work</span>(pos<span class="number">-1</span>);</span><br><span class="line">		res += <span class="built_in">work</span>(pos);</span><br><span class="line">		</span><br><span class="line">		cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line"> </span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="tree-infection">Tree Infection</h3>
<h4 id="题目大意-6">题目大意</h4>
<p>给出一颗有根树，根节点为1，每秒可以按顺序操作：</p>
<p>传染：选中一个已经被感染的节点，可以传染它父节点的其余一个子节点。</p>
<p>感染：选中一个节点使其感染。</p>
<p>求所有节点都被感染的最小时间。</p>
<h4 id="代码思路-6">代码思路</h4>
<p>首先应按子节点数量从大到小感染，时间具有单调性，考虑二分时间。</p>
<p>二分为mid秒时，遍历子节点组，可以选中一组子节点（一个父节点的所有子节点）感染mid-i个，多余出来的需要单独操作去感染，记录一个额外感染数，如果子节点组数+1（根节点）+额外感染数大于mid，就l
= mid。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span>+<span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; son[N];</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; b;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> a&gt;b;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="type">int</span> temp = <span class="number">1</span>;</span><br><span class="line">	<span class="type">int</span> cnt = x;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">auto</span> i : b) {</span><br><span class="line">		temp += <span class="built_in">max</span>((ll)<span class="number">0</span>, i-x);</span><br><span class="line">		x--;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(temp&lt;=x) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=n+<span class="number">1</span>;i++) son[i].<span class="built_in">clear</span>();</span><br><span class="line">	b.<span class="built_in">clear</span>();</span><br><span class="line">	<span class="type">int</span> x;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;i++) {</span><br><span class="line">		cin&gt;&gt;x;</span><br><span class="line">		son[x].<span class="built_in">push_back</span>(i);</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) <span class="keyword">if</span>(son[i].<span class="built_in">size</span>()!=<span class="number">0</span>) b.<span class="built_in">push_back</span>(son[i].<span class="built_in">size</span>());</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">sort</span>(b.<span class="built_in">begin</span>(),b.<span class="built_in">end</span>(),cmp);</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> l = <span class="number">1</span>,r = n;</span><br><span class="line">	<span class="keyword">while</span>(l&lt;r) {</span><br><span class="line">		<span class="type">int</span> mid = (l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">check</span>(mid)) r = mid;</span><br><span class="line">		<span class="keyword">else</span> l = mid+<span class="number">1</span>;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	cout&lt;&lt;l&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="sending-a-sequence-over-the-network">Sending a Sequence Over the
Network</h3>
<h4 id="题目大意-7">题目大意</h4>
<p>有一个数组a，把他分成若干段，每段的长度插入到该段的左边或右边，由此组成数组b，现在给你数组b，请问是否可以确定一个数组a？</p>
<h4 id="代码思路-7">代码思路</h4>
<p>处理出每个数字能包括前后多少数字，把最前数字和当前数字，当前数字和最后数字连接一条方向从前向后的单向边，这样问题就转化为从第一个数字开始，能否找到一条走到最后一个数字的路。dfs即可解决。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> n,res;</span><br><span class="line"><span class="type">int</span> b[N],vis[N];</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v[N];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span>(u==n+<span class="number">1</span>) res = <span class="number">1</span>;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">auto</span> i : v[u]) {</span><br><span class="line">		<span class="keyword">if</span>(!vis[i]) {</span><br><span class="line">			vis[i] = <span class="number">1</span>;</span><br><span class="line">			<span class="built_in">dfs</span>(i+<span class="number">1</span>);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	res = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;b[i], v[i].<span class="built_in">clear</span>(), vis[i] = <span class="number">0</span>;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		<span class="keyword">if</span>(b[i]&lt;=i<span class="number">-1</span>) v[i-b[i]].<span class="built_in">push_back</span>(i);</span><br><span class="line">		<span class="keyword">if</span>(b[i]&lt;=n-i) v[i].<span class="built_in">push_back</span>(i+b[i]);</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="built_in">dfs</span>(<span class="number">1</span>);</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">if</span>(res) cout&lt;&lt;<span class="string">"YES"</span>&lt;&lt;endl;</span><br><span class="line">	<span class="keyword">else</span> cout&lt;&lt;<span class="string">"NO"</span>&lt;&lt;endl;</span><br><span class="line"> </span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="masha-and-a-beautiful-tree">Masha and a Beautiful Tree</h3>
<h4 id="题目大意-8">题目大意</h4>
<p>给你一颗二叉树，二叉树所有的叶子结点上都有不重复的数字，这些数字组成一个序列，你可以选择一个父节点，然后把他的两个儿子及其子树翻转，求最少需要多少操作数可以把所有的叶子结点转换成单调递增的。</p>
<h4 id="代码思路-8">代码思路</h4>
<p>只有对于任意一个父节点，他们的所有叶子结点的数是连续的才有解，否则无论翻转多少次都无法完成目标。
dfs这颗二叉树，每次找到父亲结点的两颗子树的最大值和最小值，若右子树最大值+1==左子树最小值，则让操作数+1。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">3e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"><span class="type">int</span> flag;</span><br><span class="line"><span class="type">int</span> ans;</span><br><span class="line"> </span><br><span class="line"><span class="function">pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; <span class="title">dfs</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span>(l==r) {</span><br><span class="line">		pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; res = {a[l],a[r]};</span><br><span class="line">		<span class="keyword">return</span> res;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="type">int</span> mid = (l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">	pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; a = <span class="built_in">dfs</span>(l,mid);</span><br><span class="line">	pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; b = <span class="built_in">dfs</span>(mid+<span class="number">1</span>,r);</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">if</span>(b.second+<span class="number">1</span>==a.first) ans++;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(a.second+<span class="number">1</span>!=b.first) flag = <span class="number">0</span>;</span><br><span class="line"> </span><br><span class="line">	pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; res = {<span class="built_in">min</span>(a.first,b.first), <span class="built_in">max</span>(a.second,b.second)};</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line">	ans = <span class="number">0</span>,flag = <span class="number">1</span>;</span><br><span class="line"> </span><br><span class="line">	<span class="built_in">dfs</span>(<span class="number">1</span>,n);</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">if</span>(flag) cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">	<span class="keyword">else</span> cout&lt;&lt;<span class="string">"-1"</span>&lt;&lt;endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="minimize-the-thickness">Minimize the Thickness</h3>
<h4 id="题目大意-9">题目大意</h4>
<p>给一个数组a，你可以把他们切割成任意段，每段和要相同，切割后的数组价值为最长的子段。求最小价值。</p>
<h4 id="代码思路-9">代码思路</h4>
<p>数组最长只有2000，可以n^2遍历所有切割长度，求最优解.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e3</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[N],sum[N];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i], sum[i] = sum[i<span class="number">-1</span>] + a[i];</span><br><span class="line"> </span><br><span class="line">	<span class="type">int</span> res = n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		<span class="type">int</span> x = sum[i];</span><br><span class="line">		<span class="type">int</span> temp = <span class="number">0</span>;</span><br><span class="line">		<span class="type">int</span> flag = <span class="number">1</span>;</span><br><span class="line">		<span class="type">int</span> h = <span class="number">0</span>;</span><br><span class="line">		<span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>;j&lt;=n;j++) {</span><br><span class="line">			temp += a[j];</span><br><span class="line">			cnt++;</span><br><span class="line">			<span class="keyword">if</span>(temp&gt;x) {</span><br><span class="line">				flag = <span class="number">0</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">if</span>(temp==x) {</span><br><span class="line">				</span><br><span class="line">				h = <span class="built_in">max</span>(h, cnt);</span><br><span class="line">				temp = <span class="number">0</span>;</span><br><span class="line">				cnt = <span class="number">0</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(temp&amp;&amp;temp!=x) flag = <span class="number">0</span>;</span><br><span class="line"> </span><br><span class="line">		<span class="keyword">if</span>(flag&amp;&amp;h) {</span><br><span class="line">			h = <span class="built_in">max</span>(h, i);</span><br><span class="line">			res = <span class="built_in">min</span>(res, h);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="funny-permutation">Funny Permutation</h3>
<h4 id="题目大意-10">题目大意</h4>
<p>给你一个数组n，要求构造一个长度为n的数组，使得每个数字只出现一次，且最大的数不超过n，且a[i]!=i，且每个数相邻至少一个数与它的差值为1。</p>
<h4 id="代码思路-10">代码思路</h4>
<p>特判n==3时无解，其他情况把数组后移两位，最后两位放前面即可。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">if</span>(n==<span class="number">3</span>) {</span><br><span class="line">		cout&lt;&lt;<span class="string">"-1"</span>&lt;&lt;endl;</span><br><span class="line">		<span class="keyword">return</span> ;</span><br><span class="line">	}</span><br><span class="line">	cout&lt;&lt;n&lt;&lt;<span class="string">" "</span>&lt;&lt;n<span class="number">-1</span>&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n<span class="number">-2</span>;i++) cout&lt;&lt;i&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">	cout&lt;&lt;endl;</span><br><span class="line">}</span><br><span class="line"> </span><br></pre></td></tr></table></figure>
<h3 id="compare-t-shirt-sizes">Compare T-Shirt Sizes</h3>
<h4 id="题目大意-11">题目大意</h4>
<p>模拟买衣服过程，对于给定的两个衣服型号，判断大小。</p>
<h4 id="代码思路-11">代码思路</h4>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>;</span><br><span class="line"> </span><br><span class="line"><span class="type">char</span> a[N],b[N];</span><br><span class="line"><span class="type">int</span> res1,res2;</span><br><span class="line"><span class="type">int</span> temp;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	res1 = <span class="number">0</span>,res2 = <span class="number">0</span>,temp = <span class="number">0</span>;</span><br><span class="line">	cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">	<span class="type">int</span> la = <span class="built_in">strlen</span>(a), lb = <span class="built_in">strlen</span>(b);</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;la;i++) {</span><br><span class="line">		<span class="keyword">if</span>(a[i]==<span class="string">'X'</span>) temp++;</span><br><span class="line">		<span class="keyword">if</span>(a[i]==<span class="string">'S'</span>) res1 = <span class="number">1</span>-temp;</span><br><span class="line">		<span class="keyword">if</span>(a[i]==<span class="string">'M'</span>) res1 = <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span>(a[i]==<span class="string">'L'</span>) res1 = <span class="number">3</span> + temp;</span><br><span class="line"> 	}</span><br><span class="line"> </span><br><span class="line"> 	temp = <span class="number">0</span>;</span><br><span class="line"> </span><br><span class="line"> 	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;lb;i++) {</span><br><span class="line">		<span class="keyword">if</span>(b[i]==<span class="string">'X'</span>) temp++;</span><br><span class="line">		<span class="keyword">if</span>(b[i]==<span class="string">'S'</span>) res2 = <span class="number">1</span>-temp;</span><br><span class="line">		<span class="keyword">if</span>(b[i]==<span class="string">'M'</span>) res2 = <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span>(b[i]==<span class="string">'L'</span>) res2 = <span class="number">3</span> + temp;</span><br><span class="line"> 	}</span><br><span class="line"> </span><br><span class="line"> 	<span class="keyword">if</span>(res1&gt;res2) cout&lt;&lt;<span class="string">"&gt;"</span>&lt;&lt;endl;</span><br><span class="line"> 	<span class="keyword">else</span> <span class="keyword">if</span>(res1&lt;res2) cout&lt;&lt;<span class="string">"&lt;"</span>&lt;&lt;endl;</span><br><span class="line"> 	<span class="keyword">else</span> cout&lt;&lt;<span class="string">"="</span>&lt;&lt;endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="maximum-product-strikes-back">Maximum Product Strikes Back</h3>
<h4 id="题目大意-12">题目大意</h4>
<p>给一个只有-2,-1,0,1,2组成的数组a，你可以从开头或结尾删除任意个字符，使得剩下的元素之积最大。</p>
<h4 id="代码思路-12">代码思路</h4>
<p>首先按0分段，剩下元素中不能含有0，对于每一段，如果已经是正数，直接取max，如果是负数，要从左往右找到第一个负数，然后把这些数字删除，或者从右往左找，二者取max。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">int n;</span><br><span class="line"> </span><br><span class="line">void solve()</span><br><span class="line">{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	int x;</span><br><span class="line">	int res = 0;</span><br><span class="line">	vector&lt;int&gt; v;</span><br><span class="line">	int temp = 1;</span><br><span class="line">	int a=0,b=n;</span><br><span class="line">	int cnt = 0;</span><br><span class="line">	for(int i=1;i&lt;=n+1;i++) {</span><br><span class="line">		if(i&lt;=n) cin&gt;&gt;x;</span><br><span class="line">		if(x==0||i==n+1) {</span><br><span class="line">			if(temp&gt;0) {</span><br><span class="line">				if(cnt&gt;res) {</span><br><span class="line">					b = max(n-i+1,(ll)0);</span><br><span class="line">					a = n-b-v.size();</span><br><span class="line">					res = cnt;</span><br><span class="line">				}</span><br><span class="line">				temp = 1;</span><br><span class="line">				cnt = 0;</span><br><span class="line">				v.clear();</span><br><span class="line">				continue;</span><br><span class="line">			}</span><br><span class="line">			int l=0,r=0;</span><br><span class="line">			int c = cnt;</span><br><span class="line">			for(int j=0;j&lt;v.size();j++) {</span><br><span class="line">				if(abs(v[j])==2) c--;</span><br><span class="line">				l++;</span><br><span class="line">				if(v[j]&lt;0) break;</span><br><span class="line">			}</span><br><span class="line">			int d = cnt;</span><br><span class="line">			for(int j=v.size()-1;j&gt;=0;j--) {</span><br><span class="line">				if(abs(v[j])==2) d--;</span><br><span class="line">				r++;</span><br><span class="line">				if(v[j]&lt;0) break;</span><br><span class="line">			}</span><br><span class="line"> </span><br><span class="line">			if(max(c,d)&gt;res) {</span><br><span class="line">				res = max(c,d);</span><br><span class="line">				b = max(n-i+1,(ll)0);</span><br><span class="line">				a = n-b-v.size();</span><br><span class="line">				if(c&gt;d) {</span><br><span class="line">					a += l;</span><br><span class="line">				} else b += r;</span><br><span class="line">			}</span><br><span class="line">			</span><br><span class="line">			</span><br><span class="line"> </span><br><span class="line">			temp = 1;</span><br><span class="line">			cnt = 0;</span><br><span class="line">			v.clear();</span><br><span class="line">			continue;</span><br><span class="line">		} </span><br><span class="line">		v.push_back(x);</span><br><span class="line">		if(abs(x)==2) {</span><br><span class="line">			cnt++;</span><br><span class="line">		}</span><br><span class="line">		if(x&lt;0) temp *= -1;</span><br><span class="line">		</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	cout&lt;&lt;a&lt;&lt;" "&lt;&lt;b&lt;&lt;endl;</span><br><span class="line">	</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="matrix-and-shifts">Matrix and Shifts</h3>
<h4 id="题目大意-13">题目大意</h4>
<p>给你一个n*n的01图，你可以任意次进行操作：把边界一行字符转移到另一边，比如最左边一行转移到最右边，最上边一行转移到最下边。上面的操作是免费的，而下面的操作是收费的：把一个字符翻转，0变1,1变0，花费1点价值。求把一个图变成只有一条对角线是1，其余全0的图所花费的最小价值。</p>
<h4 id="代码思路-13">代码思路</h4>
<p>先尽量通过免费操作凑对角线上的1，观察发现每次移动相当于吧所有位置的坐标移动，可以遍历每一个斜行，找到最多的1，再计算价值即可。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e3</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">char</span> s[N][N];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="type">int</span> s1 = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%s"</span>,s[i]+<span class="number">1</span>);</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++) <span class="keyword">if</span>(s[i][j]==<span class="string">'1'</span>) s1++;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		<span class="type">int</span> x = <span class="number">1</span>,y = n-i+<span class="number">1</span>;</span><br><span class="line">		<span class="type">int</span> t = n;</span><br><span class="line">		<span class="type">int</span> temp = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>(t--) {</span><br><span class="line">			<span class="keyword">if</span>(s[x][y]==<span class="string">'1'</span>) temp++;</span><br><span class="line">			x++;</span><br><span class="line">			y++;</span><br><span class="line">			y%=n+<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">if</span>(y==<span class="number">0</span>) y++;</span><br><span class="line">		}</span><br><span class="line">		cnt = <span class="built_in">max</span>(cnt, temp);</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	cout&lt;&lt;s1+n<span class="number">-2</span>*cnt&lt;&lt;endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="good-subarrays-easy-version">Good Subarrays (Easy Version)</h3>
<h4 id="题目大意-14">题目大意</h4>
<p>给你一个数组a，对于一个子数组b，b[i]&gt;=i，这个数组是好的，求有多少好的子数组。</p>
<h4 id="代码思路-14">代码思路</h4>
<p>遍历每个位置作为子数组开头，对于a[i]，找到他后面第一个元素小于下标的位置，这一段子数组的子子数组都是满足条件的，对于a[i+1]，找后面第一个元素小于下标的位置可以接着上次的a[i]的继续往后找，因为上次的位置此时已经不再小于下标了。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[N],n;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line">	a[n+<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line"> </span><br><span class="line">	<span class="type">int</span> ans=<span class="number">0</span>,cnt=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=cnt;j&lt;=n+<span class="number">1</span>;j++) {</span><br><span class="line">			<span class="keyword">if</span>(j-i+<span class="number">1</span>&gt;a[j]) {</span><br><span class="line">				cnt = j;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		ans += cnt-i;</span><br><span class="line">	}</span><br><span class="line">	cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="playing-with-gcd">Playing with GCD</h3>
<h4 id="题目大意-15">题目大意</h4>
<p>给出长度为n的数组a，他们是由长度为n+1的数组b构造的，a[i] =
gcd(b[i],b[i+1])，求是否可以通过a数组找到满足条件的b数组？</p>
<h4 id="代码思路-15">代码思路</h4>
<p>两个相连的b数能影响到三个相连的a数，根据构造条件可知a[i-1]和a[i+1]的因数中一定有a[i]的因数，因此判断条件为gcd(a[i-1],a[i+1])==a[i]说明能确定一个b数组。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">if</span>(n&lt;=<span class="number">2</span>) {</span><br><span class="line">		cout&lt;&lt;<span class="string">"YES"</span>&lt;&lt;endl;</span><br><span class="line">		<span class="keyword">return</span> ;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="type">int</span> res = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n<span class="number">-1</span>;i++) {</span><br><span class="line">		<span class="keyword">if</span>(a[i]%__gcd(a[i<span class="number">-1</span>],a[i+<span class="number">1</span>])) res = <span class="number">0</span>;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">if</span>(res) cout&lt;&lt;<span class="string">"YES"</span>&lt;&lt;endl;</span><br><span class="line">	<span class="keyword">else</span> cout&lt;&lt;<span class="string">"NO"</span>&lt;&lt;endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="make-a-equal-to-b">Make A Equal to B</h3>
<h4 id="题目大意-16">题目大意</h4>
<p>给两个数组a,b，只由0和1组成，你可以对a进行操作任意次：把a[i] -&gt;
1-a[i]，问把a变成b的最小操作数。</p>
<h4 id="代码思路-16">代码思路</h4>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>;</span><br><span class="line"><span class="type">int</span> a[N],b[N];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="type">int</span> a1=<span class="number">0</span>,b1=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		cin&gt;&gt;a[i];</span><br><span class="line">		<span class="keyword">if</span>(a[i]==<span class="number">1</span>) a1++;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		cin&gt;&gt;b[i];</span><br><span class="line">		<span class="keyword">if</span>(b[i]==<span class="number">1</span>) b1++;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="type">int</span> temp = <span class="built_in">abs</span>(a1-b1);</span><br><span class="line"> </span><br><span class="line">	<span class="type">int</span> res = temp;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		<span class="keyword">if</span>(a[i]!=b[i]) temp--;</span><br><span class="line">		<span class="keyword">if</span>(temp&lt;<span class="number">0</span>) {</span><br><span class="line">			res++;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="line-empire">Line Empire</h3>
<h4 id="题目大意-17">题目大意</h4>
<p>给你长度为n的数组，你可以占领这些元素，你的初始位置st在0，每次占领只能选择一个点pos，且st到pos之间已经占领过了，花费b<em>abs(a[st]-a[pos])，你也可以选择移动到已经占领过的地方mov，花费b
</em>
abs(a[st]-a[mov])，并把st更新为mov。求把所有元素占领的最小花费。</p>
<h4 id="代码思路-17">代码思路</h4>
<p>移动的花费和原本位置没有关系，无论在哪里，到最后总是花费b*最后一次移动的坐标的价值，位置的不同会影响占领的花费，可以枚举每个位置，位移到此处后停止不再移动，直到全部占领，所有取值取min即可。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> n,a,b;</span><br><span class="line"><span class="type">int</span> x[N], sum[N];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;a&gt;&gt;b;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) sum[i] = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;x[i], sum[i] = sum[i<span class="number">-1</span>] + x[i];</span><br><span class="line"> </span><br><span class="line">	<span class="type">int</span> res = sum[n]*b;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		<span class="type">int</span> c = <span class="built_in">abs</span>(sum[n]-sum[i]-x[i]*(n-i<span class="number">-1</span>));</span><br><span class="line">		<span class="type">int</span> temp = a*x[i] + b*c;</span><br><span class="line">		res = <span class="built_in">min</span>(res, temp);</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="easy-version">388535 (Easy Version)</h3>
<h4 id="题目大意-18">题目大意</h4>
<p>从从0开始的不重复的单调递增序列中截取一段l,r，随机选取一个数x，对l,r内所有的元素进行a[i]XORx，获得序列b，现在给定序列b，求任意一个满足条件的数x.</p>
<h4 id="代码思路-18">代码思路</h4>
<p>简单版本的l一定从0开始，要从这里做文章，跟位运算有关的先往二进制数上想，对于一个从0开始的不重复单调递增序列，他们的二进制位上，每一位的任意前缀中0的数量一定大于1的数量，它们异或x，如果x二进制某一位是1，原序列二进制这一位就会变成1的数量大于0，所以我们可以枚举这些异或后的数二进制上每一位，如果该位此时0的数量小于1的数量，则说明x的这一位一定是1，因为0和1异或后翻转了。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="type">int</span> n;</span><br><span class="line">	<span class="type">int</span> c,d;</span><br><span class="line">	cin&gt;&gt;c&gt;&gt;d;</span><br><span class="line">	n = d+<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line">	<span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">19</span>;i&gt;=<span class="number">0</span>;i--) {</span><br><span class="line">		<span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++) {</span><br><span class="line">			<span class="keyword">if</span>((a[j]&gt;&gt;i)&amp;<span class="number">1</span>==<span class="number">1</span>) cnt++;</span><br><span class="line">			<span class="keyword">else</span> cnt--;</span><br><span class="line">		}</span><br><span class="line">		res *=<span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span>(cnt&gt;<span class="number">0</span>) res += <span class="number">1</span>;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">	</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="factorials-and-powers-of-two">Factorials and Powers of Two</h3>
<h4 id="题目大意-19">题目大意</h4>
<p>定义好数为：2的幂次方或x的阶乘。给你一个数n，求n最少由几个好数组成（这些好数的和等于n）</p>
<h4 id="代码思路-19">代码思路</h4>
<p>n不超过1e12，那么阶乘好数只有15个，一个数必定可以由若干个2的幂次方数组成（二进制），一个阶乘好数可以代替若干个所需的2的幂次方好数，二进制枚举需要拿哪些阶乘好数，取最小值即可。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>;</span><br><span class="line"><span class="type">int</span> a[N],b[N],cnta,cntb;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="type">int</span> res = inf;</span><br><span class="line">	</span><br><span class="line">	<span class="type">int</span> len = <span class="number">2</span>&lt;&lt;<span class="number">14</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=len;i++) {</span><br><span class="line">		<span class="type">int</span> temp = n;</span><br><span class="line">		<span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;=<span class="number">14</span>;j++) <span class="keyword">if</span>((i&gt;&gt;j)&amp;<span class="number">1</span>) temp -= b[j], cnt++;</span><br><span class="line">		res = <span class="built_in">min</span>(res, cnt + __builtin_popcountll(temp));</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">	</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="shinju-and-the-lost-permutation">Shinju and the Lost
Permutation</h3>
<h4 id="题目大意-20">题目大意</h4>
<p>有一个序列a，定义一个序列b为：b[i]为a[1]~a[i]中最大的数，定义一个序列c为，当前由序列a组成的序列b中不同数的个数，再从序列a中拿最后一个数放在前面，组成新的序列a。现在给你序列b，是否能找到一个序列a？</p>
<h4 id="代码思路-20">代码思路</h4>
<p>根据题意可以知道，c序列中必须含有一个1才有解。</p>
<p>把数组从1的位置重新排列，对于c[1] =
1，a[1]一定是最大值，每次都是从a后面取一个放前面，所以c[i]-c[i-1]一定小于等于1。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> c[N];</span><br><span class="line"><span class="type">int</span> st[N];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="type">int</span> pos = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		cin&gt;&gt;c[i],st[i] = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">if</span>(c[i]==<span class="number">1</span>) pos = i, cnt++;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">if</span>(pos==<span class="number">0</span>||cnt&gt;<span class="number">1</span>) {</span><br><span class="line">		cout&lt;&lt;<span class="string">"NO"</span>&lt;&lt;endl;</span><br><span class="line">		<span class="keyword">return</span> ;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; b;</span><br><span class="line">	b.<span class="built_in">push_back</span>(inf);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=pos;i&lt;=n;i++) b.<span class="built_in">push_back</span>(c[i]);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;pos;i++) b.<span class="built_in">push_back</span>(c[i]);</span><br><span class="line"> </span><br><span class="line">	<span class="type">int</span> res = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		<span class="keyword">if</span>(i&gt;<span class="number">1</span>&amp;&amp;(b[i]-b[i<span class="number">-1</span>]==<span class="number">1</span>||b[i]&lt;=b[i<span class="number">-1</span>])) <span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(i&gt;<span class="number">1</span>) res = <span class="number">0</span>;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">if</span>(res) cout&lt;&lt;<span class="string">"YES"</span>&lt;&lt;endl;</span><br><span class="line">	<span class="keyword">else</span> cout&lt;&lt;<span class="string">"NO"</span>&lt;&lt;endl;</span><br><span class="line">	</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="orray">Orray</h3>
<h4 id="题目大意-21">题目大意</h4>
<p>给你长度为n的数组a，定义一个前缀或为前i个数或起来的值，把a数组重新排列，求前缀或最大（对于每个i，这样的排列可以使前缀或i最大）</p>
<h4 id="代码思路-21">代码思路</h4>
<p>位运算，从二进制上来看。第一个位置肯定要放a中最大的数，第二个位置放相比于第一个数，与它异位1最多的数，这样他俩或起来的值最大。可以遍历整个数组30次，每次取或起来最大的位置，说明他与前面的数的异位1最多。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> st[N];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="type">int</span> temp = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		cin&gt;&gt;a[i], st[i] = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">if</span>(a[temp]&lt;a[i]) temp = i;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">	st[temp] = <span class="number">1</span>;</span><br><span class="line">	res.<span class="built_in">push_back</span>(a[temp]);</span><br><span class="line"> </span><br><span class="line">	temp = a[temp];</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		<span class="type">int</span> pos=<span class="number">0</span>;</span><br><span class="line">		<span class="type">int</span> c = temp;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">			<span class="keyword">if</span>((temp|a[i])&gt;c) {</span><br><span class="line">				pos = i;</span><br><span class="line">				c = temp|a[i];</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line"> </span><br><span class="line">		<span class="comment">// cout&lt;&lt;temp&lt;&lt;endl;</span></span><br><span class="line"> </span><br><span class="line">		<span class="keyword">if</span>(pos==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">		temp |= a[pos];</span><br><span class="line">		res.<span class="built_in">push_back</span>(a[pos]);</span><br><span class="line">		st[pos] = <span class="number">1</span>;</span><br><span class="line"> </span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">auto</span> item : res) cout&lt;&lt;item&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) <span class="keyword">if</span>(st[i]==<span class="number">0</span>) cout&lt;&lt;a[i]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">	cout&lt;&lt;endl;	</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="cross-coloring">Cross Coloring</h3>
<h4 id="题目大意-22">题目大意</h4>
<p>给你一个n*m的网格，有k种颜色，q次操作，每次操作选择一个xy，让x行和y列都涂成k种颜色中的一种。q次操作完成后，有多少种不同的涂色过后的网格？</p>
<h4 id="代码思路-22">代码思路</h4>
<p>每次涂色可以选择k中任意种，每次涂色过后，如果后面的操作能保留这次涂色至少一个方格，那么这次涂色就有一次贡献，可以倒着操作每次涂色，如果xy还没有涂色，就是有效次数，否则说明这次操作的涂色再后面已经被完全覆盖了。</p>
<p><em>标记数组bool改成int就会T（邪门</em></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> mod = <span class="number">998244353</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">bool</span> x[N],y[N];</span><br><span class="line"><span class="type">int</span> n,m,k,q;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">(<span class="type">int</span> c)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m&gt;&gt;k&gt;&gt;q;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=n+<span class="number">1</span>;i++) x[i] = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=m+<span class="number">1</span>;i++) y[i] = <span class="number">0</span>;</span><br><span class="line">	vector&lt;PII&gt; v;</span><br><span class="line">	<span class="type">int</span> a,b;</span><br><span class="line">	<span class="type">int</span> cnta = <span class="number">0</span>,cntb = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> res = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=q;i++) cin&gt;&gt;a&gt;&gt;b, v.<span class="built_in">push_back</span>({a,b});</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=v.<span class="built_in">size</span>()<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--) {</span><br><span class="line">		a = v[i].first, b = v[i].second;</span><br><span class="line"> </span><br><span class="line">		<span class="keyword">if</span>(x[a]==<span class="number">0</span>||y[b]==<span class="number">0</span>) res = (res*k)%mod;</span><br><span class="line"> </span><br><span class="line">		<span class="keyword">if</span>(!x[a]) cnta++;</span><br><span class="line">		<span class="keyword">if</span>(!y[b]) cntb++;</span><br><span class="line">		x[a] = <span class="number">1</span>,y[b] = <span class="number">1</span>;</span><br><span class="line"> </span><br><span class="line">		<span class="keyword">if</span>(cnta==n||cntb==m) <span class="keyword">break</span>;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	 cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="permutation-operations">Permutation Operations</h3>
<h4 id="题目大意-23">题目大意</h4>
<p>给你一个长度为n的序列，你可以对这个序列操作n次，每次选择一个后缀数组a[i]~a[n]，给他们加上i，求怎样操作能让序列变成单调非递减。</p>
<h4 id="代码思路-23">代码思路</h4>
<p>选择一个i，a[i]~a[n]单调性不变，a[i-1]和a[i]的关系可能会改变，遍历数组找到所有的a[i-1]&gt;a[1]的位置和他俩的差值，差值对应选择的位置i即为答案。特别的对于一个差值x，如果x出现的次数大于1，则它一定可以让贡献更大操作解决，往后找还没有安排的位置i即可。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; res[n+<span class="number">1</span>];</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		cin&gt;&gt;a[i];</span><br><span class="line">		<span class="keyword">if</span>(i&gt;<span class="number">1</span>&amp;&amp;a[i]-a[i<span class="number">-1</span>]&lt;<span class="number">0</span>) res[<span class="built_in">abs</span>(a[i]-a[i<span class="number">-1</span>])].<span class="built_in">push_back</span>(i);</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> op=<span class="number">1</span>;op&lt;n;op++) {</span><br><span class="line">		<span class="keyword">if</span>(res[op].<span class="built_in">size</span>()==<span class="number">0</span>&amp;&amp;!q.<span class="built_in">empty</span>()) res[op].<span class="built_in">push_back</span>(q.<span class="built_in">front</span>()), q.<span class="built_in">pop</span>();</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(res[op].<span class="built_in">size</span>()&gt;<span class="number">1</span>) {</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;res[op].<span class="built_in">size</span>();i++) q.<span class="built_in">push</span>(res[op][i]);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		<span class="keyword">if</span>(res[i].<span class="built_in">size</span>()==<span class="number">0</span>) cout&lt;&lt;<span class="number">1</span>&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">		<span class="keyword">else</span> cout&lt;&lt;res[i][<span class="number">0</span>]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	cout&lt;&lt;endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="divisibility-by-2n">Divisibility by 2^n</h3>
<h4 id="题目大意-24">题目大意</h4>
<p>给你一个数组a，你可以进行操作：选择一个i，让a[i] =
a[i]*i。求能让数组的积能被2^n整除的最少操作数。</p>
<h4 id="代码思路-24">代码思路</h4>
<p>相当于求数组进行若干操作后能满足因子为2的数量等于n的最少操作数，先求数组每个元素的贡献，再求每个选择i的贡献，让选择贡献排个序，依次拿取即可。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> cnt[<span class="number">40</span>];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="type">int</span> x;</span><br><span class="line">	<span class="type">int</span> c = n;</span><br><span class="line">	<span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		cin&gt;&gt;x;</span><br><span class="line">		<span class="keyword">while</span>(x%<span class="number">2</span>==<span class="number">0</span>) x/=<span class="number">2</span>, c--;</span><br><span class="line">		<span class="type">int</span> d = <span class="number">0</span>;</span><br><span class="line">		x = i;</span><br><span class="line">		<span class="keyword">while</span>(x%<span class="number">2</span>==<span class="number">0</span>) x/=<span class="number">2</span>, d++;</span><br><span class="line">		sum += d;</span><br><span class="line">		<span class="keyword">if</span>(d) v.<span class="built_in">push_back</span>(d);</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="built_in">sort</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>());</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">if</span>(c&lt;=sum) {</span><br><span class="line">		<span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=v.<span class="built_in">size</span>()<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--) <span class="keyword">if</span>(c&gt;=v[i]) res++, c -= v[i];</span><br><span class="line">		cout&lt;&lt;<span class="built_in">max</span>((ll)<span class="number">0</span>, res)&lt;&lt;endl;</span><br><span class="line">	} <span class="keyword">else</span> cout&lt;&lt;<span class="string">"-1"</span>&lt;&lt;endl;</span><br><span class="line"> </span><br><span class="line">	</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="divisible-numbers-easy-version">Divisible Numbers (easy
version)</h3>
<h4 id="题目大意-25">题目大意</h4>
<p>给你四个数abcd,a&lt;c,b&lt;d，从(a,c]中找到一个数x，(b,d]中找到一个数y，满足x
* y能整除a * b。</p>
<h4 id="代码思路-25">代码思路</h4>
<p>因为题目给的数据范围都很小，考虑暴力，可以遍历(a,c],除掉去a~c的贡献后在b
~ d里找剩余的。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>;</span><br><span class="line"><span class="type">int</span> a,b,c,d;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">check</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> l,<span class="type">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span>(x&gt;r) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> temp = r/x;</span><br><span class="line">	<span class="keyword">if</span>(temp*x&gt;=l) <span class="keyword">return</span> temp*x;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;a&gt;&gt;b&gt;&gt;c&gt;&gt;d;</span><br><span class="line">	<span class="type">int</span> x = a*b;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">if</span>(a==<span class="number">1</span>&amp;&amp;b==<span class="number">1</span>) {</span><br><span class="line">		cout&lt;&lt;c&lt;&lt;<span class="string">" "</span>&lt;&lt;d&lt;&lt;endl;</span><br><span class="line">		<span class="keyword">return</span> ;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	a++,b++;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=a;i&lt;=c;i++) {</span><br><span class="line">		<span class="type">int</span> c = x/__gcd(x,i);</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">check</span>(c,b,d)) {</span><br><span class="line">			cout&lt;&lt;i&lt;&lt;<span class="string">" "</span>&lt;&lt;<span class="built_in">check</span>(c,b,d)&lt;&lt;endl;</span><br><span class="line">			<span class="keyword">return</span> ;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">	cout&lt;&lt;<span class="string">"-1 -1"</span>&lt;&lt;endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="make-them-equal">Make Them Equal</h3>
<h4 id="题目大意-26">题目大意</h4>
<p>有一个只由1组成的数组a，你可以进行操作k次：选择一个i，让a[i]增加a[i]/x，所有操作完成后会给每一个a[i]==b[i]的位置增加c[i]的价值，求最多能获得的价值是多少。</p>
<h4 id="代码思路-26">代码思路</h4>
<p>预处理出1~1000所需的最小操作数，问题就转化为01背包，因为操作数最多不超过20，因此k
= min(k, 20*1000)，时间复杂度不超过2e7，可以写。</p>
<p>预处理：对于x，遍历所有不超过他本身的除数，x/i可以转移给x-x/i。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e3</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[N],b[N],c[N],d[N];</span><br><span class="line"><span class="type">int</span> n,k;</span><br><span class="line"><span class="type">int</span> dp[<span class="number">1000000</span>];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	n = <span class="number">1e3</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) d[i] = inf;</span><br><span class="line">	d[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=i;j++) {</span><br><span class="line">			<span class="type">int</span> u = i/j;</span><br><span class="line">			<span class="keyword">if</span>(i+u&gt;n) <span class="keyword">continue</span>;</span><br><span class="line">			d[i+u] = <span class="built_in">min</span>(d[i+u], d[i]+<span class="number">1</span>);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;k;</span><br><span class="line">	<span class="built_in">ms</span>(dp,<span class="number">0</span>);</span><br><span class="line">	k = <span class="built_in">min</span>(k, (ll)<span class="number">20</span>*<span class="number">1000</span>);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;b[i];</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;c[i];</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=k;j&gt;=d[b[i]];j--) {</span><br><span class="line">			dp[j] = <span class="built_in">max</span>(dp[j], dp[j - d[b[i]]] + c[i]);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	cout&lt;&lt;dp[k]&lt;&lt;endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="strange-test">Strange Test</h3>
<h4 id="题目大意-27">题目大意</h4>
<p>给你两个数a,b，你可以进行操作：a-&gt;a+1，b-&gt;b+1,a-&gt;a|b，求让a==b的最小操作数。</p>
<h4 id="代码思路-27">代码思路</h4>
<p>前两个操作只能让a，b增加，第三个操作能让a&gt;=b，因此操作三只可能执行一次。</p>
<p>两种情况：a&lt;b 增加a，直到a|b==b，</p>
<p>​ a&gt;b 增加b，直到 a | b ==b。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>;</span><br><span class="line"><span class="type">int</span> a,b;</span><br><span class="line"><span class="type">int</span> n = <span class="number">1048576</span>;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">	<span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> res = <span class="built_in">abs</span>(b-a);</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i+a&lt;=b;i++) {</span><br><span class="line">		<span class="keyword">if</span>((a+i|b)==b) res = <span class="built_in">min</span>(res, i+<span class="number">1</span>);</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(((b+i)|a)==(b+i)) res = <span class="built_in">min</span>(res, i+<span class="number">1</span>);</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="and-matching">And Matching</h3>
<h4 id="题目大意-28">题目大意</h4>
<p>给你一个序列，序列长度总是2^n，给他们两两分组，要求全部组的AND的和等于k。</p>
<h4 id="代码思路-28">代码思路</h4>
<p>首先如果k==0，可以总是选最大的一个数再选最小的一个数，这样AND值为0。</p>
<p>2的幂次方-1的数AND任何数都等于这个任何数，0AND任何数都等于0，因此对于k&lt;n-1，总是可以这样分组：只有一组AND值为k，其余为0，对于k==n-1，一组AND值为k-1，另一组为1，其余组全为0。</p>
<p>特判n == 4 &amp;&amp; k == 3时无法构造</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> n,k;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;k;</span><br><span class="line">	<span class="keyword">if</span>(n<span class="number">-1</span>==k&amp;&amp;k==<span class="number">3</span>) {</span><br><span class="line">		cout&lt;&lt;<span class="number">-1</span>&lt;&lt;endl;</span><br><span class="line">		<span class="keyword">return</span> ;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">if</span>(n<span class="number">-1</span>==k) {</span><br><span class="line">		cout&lt;&lt;<span class="number">0</span>&lt;&lt;<span class="string">" "</span>&lt;&lt;<span class="number">2</span>&lt;&lt;endl;</span><br><span class="line">		cout&lt;&lt;<span class="number">1</span>&lt;&lt;<span class="string">" "</span>&lt;&lt;n<span class="number">-1</span><span class="number">-2</span>&lt;&lt;endl;</span><br><span class="line">		cout&lt;&lt;n<span class="number">-1</span>&lt;&lt;<span class="string">" "</span>&lt;&lt;n<span class="number">-2</span>&lt;&lt;endl;</span><br><span class="line">		<span class="type">int</span> l = <span class="number">3</span>,r = n<span class="number">-3</span><span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">while</span>(l&lt;r) {</span><br><span class="line">			cout&lt;&lt;l&lt;&lt;<span class="string">" "</span>&lt;&lt;r&lt;&lt;endl;</span><br><span class="line">			l++,r--;</span><br><span class="line">		}</span><br><span class="line"> </span><br><span class="line">		<span class="keyword">return</span> ;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	vector&lt;PII&gt; res;</span><br><span class="line">	res.<span class="built_in">push_back</span>({k,n<span class="number">-1</span>});</span><br><span class="line">	<span class="type">int</span> l = <span class="number">1</span>,r = n<span class="number">-2</span>;</span><br><span class="line">	<span class="keyword">while</span>(l&lt;r) {</span><br><span class="line">		<span class="keyword">if</span>(l==k||r==k) {</span><br><span class="line">			res.<span class="built_in">push_back</span>({<span class="number">0</span>,n-k<span class="number">-1</span>});</span><br><span class="line">		} <span class="keyword">else</span> res.<span class="built_in">push_back</span>({l,r});</span><br><span class="line">		l++,r--;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">auto</span> item : res) cout&lt;&lt;item.first&lt;&lt;<span class="string">" "</span>&lt;&lt;item.second&lt;&lt;endl;</span><br><span class="line"> </span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="save-the-magazines">Save the Magazines</h3>
<h4 id="题目大意-29">题目大意</h4>
<p>给你一个01串和数组，长度都为n，你可以进行操作：把01串中的1传递给左邻的0，每个位置只能操作一次。所有操作完成后，01串中对应的1会获得数组中元素的价值，求能获得的最大价值。</p>
<h4 id="代码思路-29">代码思路</h4>
<p>一个位置的1可以传递给左邻的0，相当于这两个位置互换了一下，如果想再获得这个已经变成0的位置所对应的价值，就需要把他右邻的1传递给他，这样来看是可以连续传递直到右邻的是0，相当于对于一个连续的1段(i,j)，连带左邻近的i-1，共j-i+2个数中选择一个最小的剔除，获得其余位置所对应的价值。注意前导1不可更变位置，他们的价值直接统计就行。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"><span class="type">char</span> s[N];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> x&gt;y;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	vector&lt;<span class="type">int</span> &gt; v;</span><br><span class="line">	cin&gt;&gt;(s+<span class="number">1</span>);</span><br><span class="line">	s[n+<span class="number">1</span>] = <span class="string">'0'</span>;</span><br><span class="line">	<span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line"> </span><br><span class="line">	<span class="type">int</span> flag = <span class="number">1</span>;</span><br><span class="line">	<span class="type">int</span> l=<span class="number">0</span>,r=<span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> cc = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n+<span class="number">1</span>;i++) {</span><br><span class="line">		<span class="keyword">if</span>(s[i]==<span class="string">'0'</span>&amp;&amp;flag==<span class="number">1</span>) {</span><br><span class="line">			flag = <span class="number">0</span>;</span><br><span class="line">			res += cc;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(flag==<span class="number">1</span>) {</span><br><span class="line">			cc += a[i];</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		}</span><br><span class="line"> </span><br><span class="line">		<span class="keyword">if</span>(s[i]==<span class="string">'0'</span>&amp;&amp;l&gt;r) {</span><br><span class="line">			r = i<span class="number">-1</span>;</span><br><span class="line">			<span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=l;i&lt;=r;i++) sum += a[i];</span><br><span class="line">			v.<span class="built_in">push_back</span>(sum);</span><br><span class="line">			<span class="type">int</span> temp = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=l;i&lt;=r;i++) {</span><br><span class="line">				temp += a[i<span class="number">-1</span>];</span><br><span class="line">				sum -= a[i];</span><br><span class="line">				v.<span class="built_in">push_back</span>(temp+sum);</span><br><span class="line">			}</span><br><span class="line"> </span><br><span class="line">			<span class="built_in">sort</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),cmp);</span><br><span class="line">			res += v[<span class="number">0</span>];</span><br><span class="line">			v.<span class="built_in">clear</span>();</span><br><span class="line">			l=r;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(s[i]==<span class="string">'1'</span>&amp;&amp;l==r) l = i;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="problem-with-random-tests">Problem with Random Tests</h3>
<h4 id="题目大意-30">题目大意</h4>
<p>给你一个01串，你可以选择两个子串s1,s2,要求s1|s2最大化，注意：01串是纯随机生成的</p>
<h4 id="代码思路-30">代码思路</h4>
<p>因为01串是纯随机生成，所以连续的1的长度几乎不会超过20，第一个子串肯定要选整个串，第二个串要前面连续的1全选，后面删去几个，保证这两个串的01能错开，刚好最大化s1|s2，暴力求第二个串是由整串删去后面几个，也就是拿着开头依次放在第一个串的各个位置，然后取能获得最大值的位置，最多试到放在第一个串的第20个位置就能出答案了。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">char</span> s[N];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="type">int</span> flag = <span class="number">1</span>;</span><br><span class="line">	<span class="type">char</span> x;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		cin&gt;&gt;x;</span><br><span class="line">		<span class="keyword">if</span>(flag==<span class="number">1</span>&amp;&amp;x==<span class="string">'0'</span>) <span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">else</span> flag = <span class="number">0</span>;</span><br><span class="line">		v.<span class="built_in">push_back</span>(x-<span class="string">'0'</span>);</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	n = v.<span class="built_in">size</span>();</span><br><span class="line">	<span class="keyword">if</span>(n==<span class="number">0</span>) {</span><br><span class="line">		cout&lt;&lt;<span class="number">0</span>&lt;&lt;endl;</span><br><span class="line">		<span class="keyword">return</span> ;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> temp = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> c = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">19</span>;i++) {</span><br><span class="line">		<span class="type">int</span> t = c;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j+i&lt;<span class="number">19</span>;j++) {</span><br><span class="line">			t*=<span class="number">2</span>;</span><br><span class="line">			<span class="keyword">if</span>((v[j]|v[i+j])==<span class="number">1</span>) t++;</span><br><span class="line">		}</span><br><span class="line"> </span><br><span class="line">		<span class="keyword">if</span>(t&gt;temp) {</span><br><span class="line">			temp = t;</span><br><span class="line">			res = i;</span><br><span class="line">		}</span><br><span class="line"> </span><br><span class="line">		c*=<span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span>(v[i]==<span class="number">1</span>) c++;</span><br><span class="line">    }</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>,j=<span class="number">0</span>;i&lt;n;i++) {</span><br><span class="line">		<span class="keyword">if</span>(i&lt;res) cout&lt;&lt;v[i];</span><br><span class="line">		<span class="keyword">else</span> cout&lt;&lt;(v[i]|v[j]), j++;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="peculiar-movie-preferences">Peculiar Movie Preferences</h3>
<h4 id="题目大意-31">题目大意</h4>
<p>给你n个长度不超过3的字符串，你可以按顺序把一些字符串连接起来，如果能连接成一个回文串就是输出yes。</p>
<h4 id="代码思路-31">代码思路</h4>
<p>因为每个串的长度不超过3，分情况讨论：</p>
<p>如果某个串的长度为1，他本身就是回文串。</p>
<p>如果某个串的长度为2，他需要找到后面的串中是否有翻转过的自己，或者找到后面长度为3但是后两个元素是翻转过的自己的串（ab，cba）。</p>
<p>如果某个串的长度为3，他需要找到后面是否有翻转的自己，或者后面有长度为2，但是这两个是自己前两个字符的翻转（abc，ba）。</p>
<p>倒序建立字典数，按情况找即可。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> n,idx;</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"><span class="type">int</span> tr[N][<span class="number">30</span>];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	string s;</span><br><span class="line">	<span class="built_in">ms</span>(tr,<span class="number">0</span>);</span><br><span class="line">	<span class="built_in">ms</span>(st,<span class="number">0</span>);</span><br><span class="line">	idx = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">	vector&lt;string&gt; v;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;s, v.<span class="built_in">push_back</span>(s);</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=n<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--) {</span><br><span class="line"> </span><br><span class="line">		string temp = v[i];</span><br><span class="line">		s = <span class="string">""</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=temp.<span class="built_in">size</span>()<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--) s += temp[i];</span><br><span class="line">		<span class="type">int</span> p = <span class="number">0</span>;</span><br><span class="line">		<span class="comment">// cout&lt;&lt;s&lt;&lt;endl;</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s.<span class="built_in">size</span>();i++) {</span><br><span class="line">			<span class="type">int</span> u = s[i]-<span class="string">'a'</span>;</span><br><span class="line">			<span class="keyword">if</span>(!tr[p][u]) tr[p][u] = ++idx;</span><br><span class="line">			p = tr[p][u];</span><br><span class="line">		}</span><br><span class="line">		st[p] = <span class="number">1</span>;</span><br><span class="line"> </span><br><span class="line">		s = v[i];</span><br><span class="line">		p = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s.<span class="built_in">size</span>();i++) {</span><br><span class="line">			<span class="type">int</span> u = s[i]-<span class="string">'a'</span>;</span><br><span class="line">			p = tr[p][u];</span><br><span class="line">			<span class="keyword">if</span>(p==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">if</span>(s.<span class="built_in">size</span>()==<span class="number">1</span>&amp;&amp;st[p]) {res = <span class="number">1</span>;<span class="keyword">break</span>;}</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(s.<span class="built_in">size</span>()==<span class="number">2</span>&amp;&amp;i==<span class="number">1</span>) {res = <span class="number">1</span>;<span class="keyword">break</span>;}</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(s.<span class="built_in">size</span>()==<span class="number">3</span>&amp;&amp;i!=<span class="number">0</span>&amp;&amp;st[p]) {res = <span class="number">1</span>;<span class="keyword">break</span>;}</span><br><span class="line">		}</span><br><span class="line"> </span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">if</span>(res) cout&lt;&lt;<span class="string">"YES"</span>&lt;&lt;endl;</span><br><span class="line">	<span class="keyword">else</span> cout&lt;&lt;<span class="string">"NO"</span>&lt;&lt;endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="monsters-and-spells">Monsters And Spells</h3>
<h4 id="题目大意-32">题目大意</h4>
<p>n个怪物血量为hi，在第ki秒出现，保证ki&gt;hi，你可以蓄力准备攻击，要在ki秒至少蓄力出伤害为hi的攻击，每秒钟你可以让自己的攻击威力+1，或者从0开始重新蓄力。蓄力时，每秒都会消耗蓄力伤害的魔法值，求能击败全部怪物的最小魔法值。</p>
<h4 id="代码思路-32">代码思路</h4>
<p>因为后面的高度会影响前面，所以要倒着考虑，如果k[i]-k[i-1]&gt;h[i]说明可以从k[i]~k[i-1]中的某个位置开始蓄力，刚好能造成h[i]血量的伤害，否则就向前找，直到找到上面的情况，记录一个初始位置pos，就是你蓄力到最后的哪个地方停止，向前找的过程中不断更新最大的h[i]，保证满足这个h[i]，就可以满足后面所有的h[i]。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> k[N],h[N];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;k[i];</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;h[i];</span><br><span class="line"> </span><br><span class="line">	<span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> pos = k[n];</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=n;i&gt;=<span class="number">0</span>;i--) {</span><br><span class="line">		<span class="keyword">if</span>(i==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">if</span>(k[i]-k[i<span class="number">-1</span>]&gt;=h[i]) {</span><br><span class="line">			<span class="comment">// cout&lt;&lt;pos&lt;&lt;endl;</span></span><br><span class="line">			<span class="type">int</span> temp = pos - (k[i] - h[i]);</span><br><span class="line">			res += temp*(temp+<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">			pos = k[i<span class="number">-1</span>];</span><br><span class="line">			</span><br><span class="line">		} <span class="keyword">else</span> h[i<span class="number">-1</span>] = <span class="built_in">max</span>(h[i<span class="number">-1</span>], h[i] - (k[i] - k[i<span class="number">-1</span>]));</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="integers-shop">Integers Shop</h3>
<h4 id="题目大意-33">题目大意</h4>
<p>给你n个区间，每个区间都有一个价值ci，你可以选择一些区间，选好之后，这些区间之间的空隙会被填满，形成一段完成的长区间，求获得最长区间的最小价值。</p>
<h4 id="代码思路-33">代码思路</h4>
<p>相当于只选两个区间，一个左边界最大且价值最小，一个右边界最大且价值最小，结束后中间的空隙全会填上，但是题目要求是价值最小，所以可能会有这样的情况：一段长区间，覆盖面积与你所选择的两个区间填满后覆盖面积相同，且单独一个比他俩贵，但比他俩加起来要便宜。这样的话就要选择这一个长区间。</p>
<p>——— ———— 2个区间，价值为4+4</p>
<p>————————— 1个区间，价值为3</p>
<p>此时要选价值为3的1个长区间。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> c[N];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="function">vector&lt;PII&gt; <span class="title">v</span><span class="params">(n+<span class="number">1</span>)</span></span>;</span><br><span class="line">	<span class="type">int</span> x,y,d,l=<span class="number">0</span>,r=<span class="number">0</span>,mxd=<span class="number">0</span>;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		cin&gt;&gt;x&gt;&gt;y&gt;&gt;d;</span><br><span class="line">		c[i] = d;</span><br><span class="line">		v[i] = {x,y};</span><br><span class="line">		<span class="keyword">if</span>(l==<span class="number">0</span>||x&lt;v[l].first||(x==v[l].first&amp;&amp;c[i]&lt;c[l])) l = i;</span><br><span class="line">		<span class="keyword">if</span>(r==<span class="number">0</span>||y&gt;v[r].second||(y==v[r].second&amp;&amp;c[i]&lt;c[r])) r = i;</span><br><span class="line">		<span class="keyword">if</span>(mxd==<span class="number">0</span>||v[mxd].second-v[mxd].first&lt;v[i].second-v[i].first||(v[mxd].second-v[mxd].first==v[i].second-v[i].first&amp;&amp;c[mxd]&gt;c[i])) mxd = i;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(v[mxd].second-v[mxd].first==v[r].second-v[l].first&amp;&amp;c[mxd]&lt;(c[l]+c[r])) cout&lt;&lt;c[mxd]&lt;&lt;endl;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(v[l].first==v[r].first) {</span><br><span class="line">			<span class="type">int</span> a = v[l].second-v[l].first, b = v[r].second-v[r].first;</span><br><span class="line">			<span class="keyword">if</span>(a&gt;b) cout&lt;&lt;c[l]&lt;&lt;endl;</span><br><span class="line">			<span class="keyword">else</span> cout&lt;&lt;c[r]&lt;&lt;endl;</span><br><span class="line">		} <span class="keyword">else</span> <span class="keyword">if</span>(v[l].second==v[r].second) {</span><br><span class="line">			<span class="type">int</span> a = v[l].second-v[l].first, b = v[r].second-v[r].first;</span><br><span class="line">			<span class="keyword">if</span>(a&gt;b) cout&lt;&lt;c[l]&lt;&lt;endl;</span><br><span class="line">			<span class="keyword">else</span> cout&lt;&lt;c[r]&lt;&lt;endl;</span><br><span class="line">		} <span class="keyword">else</span> cout&lt;&lt;c[l]+c[r]&lt;&lt;endl;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="hidden-permutations">Hidden Permutations</h3>
<h4 id="题目大意-34">题目大意</h4>
<p>交互题，有一个隐藏的数组p，你需要还原出这个p数组，现在有一个辅助q数组，初始时为1~n的排列，你可以查询这个q数组中的第i位元素，查询完成后，q数组会重组，每一个qi
= q_pi。</p>
<h4 id="代码思路-34">代码思路</h4>
<p>q数组重组是根据p数组，p数组是固定的，所以q数组每个位置的变化都有一个周期，在一个周期中，当前位就是上一位的答案，即res[v[i-1]]
=
v[i]，v是当前位的周期数组。从1开始，查询该位置不断获取值，直到出现周期，然后根据周期给答案更新一下，然后操作下一位，如果下一位已经有答案了，说明这个数字已经出现在前面位的周期中，跳过就行。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e4</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> res[N],st[N];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) res[i] = <span class="number">0</span>, st[i] = <span class="number">0</span>;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		<span class="keyword">if</span>(res[i]) <span class="keyword">continue</span>;</span><br><span class="line"> </span><br><span class="line">		<span class="type">int</span> x;</span><br><span class="line">		v.<span class="built_in">clear</span>();</span><br><span class="line">		<span class="keyword">while</span>(<span class="number">1</span>) {</span><br><span class="line">			cout&lt;&lt;<span class="string">"? "</span>&lt;&lt;i&lt;&lt;endl;</span><br><span class="line">			cin&gt;&gt;x;</span><br><span class="line">			v.<span class="built_in">push_back</span>(x);</span><br><span class="line">			st[x]++;</span><br><span class="line">			<span class="keyword">if</span>(st[x]==<span class="number">2</span>) <span class="keyword">break</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;v.<span class="built_in">size</span>();i++) res[v[i<span class="number">-1</span>]] = v[i];</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	cout&lt;&lt;<span class="string">"! "</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cout&lt;&lt;res[i]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">	cout&lt;&lt;endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="set-or-decrease">Set or Decrease</h3>
<h4 id="题目大意-35">题目大意</h4>
<p>给你一个长度为n的数组a，和一个整数k，你可以进行操作：选择一个位置ai，让ai-1，或者选择两个位置i,j让ai
= aj。求最小操作数，能让整个数组的和小于等于k。</p>
<h4 id="代码思路-35">代码思路</h4>
<p>首先，肯定要让两个操作均衡进行，让一个较小的数更小点，然后再选择若干个较大的数变成这个较小的数，这样就能保证最小操作数，那么把原数组排序，前缀和统计一下，从小到大枚举进行了几次转化操作，然后补充-1操作，综合取最小值。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[N],n,k;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;k;</span><br><span class="line">	<span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i], sum += a[i];</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">if</span>(sum&lt;=k) {</span><br><span class="line">		cout&lt;&lt;<span class="number">0</span>&lt;&lt;endl;</span><br><span class="line">		<span class="keyword">return</span> ;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="type">int</span> need = sum-k;</span><br><span class="line">	<span class="built_in">sort</span>(a+<span class="number">1</span>,a+<span class="number">1</span>+n);</span><br><span class="line">	<span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v</span><span class="params">(n+<span class="number">1</span>)</span></span>;</span><br><span class="line">	<span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=n;i&gt;=<span class="number">2</span>;i--) {</span><br><span class="line">		cnt++;</span><br><span class="line">		v[cnt] = v[cnt<span class="number">-1</span>] + a[i]-a[<span class="number">1</span>];</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="type">int</span> res = need;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=cnt;i++) {</span><br><span class="line">		<span class="type">int</span> temp = i;</span><br><span class="line">		<span class="keyword">if</span>(need-v[i]&gt;<span class="number">0</span>) temp += (need-v[i]+i)/(i+<span class="number">1</span>);</span><br><span class="line">		res = <span class="built_in">min</span>(res, temp); </span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="representative-edges">Representative Edges</h3>
<h4 id="题目大意-36">题目大意</h4>
<p>给你一个数组a，当且仅当它的每一子数组都满足：al+al+1+…+ar=12(al+ar)⋅(r−l+1)al+al+1+…+ar=12(al+ar)⋅(r−l+1)才是好的，现在你可以改变a数组中的某些值，让a数组变成好的，求最小操作数。</p>
<h4 id="代码思路-36">代码思路</h4>
<p>很显然需要每一段子数组的平均值为1，那么就枚举任意两两之间的公差，用这个公差完善整个数组，取最小操作数即可。公差可能是小数，要注意精度</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> a[<span class="number">30000</span>];</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">equal</span><span class="params">(<span class="type">double</span> a, <span class="type">double</span> b)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">abs</span>(a - b) &lt;= <span class="number">1e-6</span>)<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>{</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i++)</span><br><span class="line">    {</span><br><span class="line">        cin &gt;&gt; a[i];</span><br><span class="line">    }</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">1e9</span>;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span>)ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;i++)<span class="keyword">for</span> (<span class="type">int</span> j = i + <span class="number">1</span>;j &lt;= n;j++)</span><br><span class="line">    {</span><br><span class="line">        <span class="type">double</span> d = (a[j] - a[i]) / (j - i);</span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">1</span>;k &lt;= n;k++)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span> (!<span class="built_in">equal</span>(a[k], a[i] + (k - i ) * d))res++;</span><br><span class="line">        }</span><br><span class="line">        ans = <span class="built_in">min</span>(ans, res);</span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="road-optimization">Road Optimization</h3>
<h4 id="题目大意-37">题目大意</h4>
<p>现在有一段路，若干个限速牌，经过一个限速牌后你的速度必须等于标志的数字，你可以至多删除k个限速牌，使得你的总时长减少，求最后可以得到的最小时长。</p>
<h4 id="代码思路-37">代码思路</h4>
<p>因为删除一个路牌不能决定下个路牌的结果，因此要dp。</p>
<p>每个路牌可以选择删或不删，最多删k个，最终结果是时间，因此状态可以设为dp[i,j]，走到第i个路牌时，已经删除了k个路牌，所需要的最小时间。</p>
<p>对于当前结果是由上次删除了那一块路牌得来的，需要枚举，因此是三维dp。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">510</span>;</span><br><span class="line"><span class="type">int</span> d[N],v[N],dp[N][N];</span><br><span class="line"><span class="type">int</span> n,c,p;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;c&gt;&gt;p;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;d[i];</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;v[i];</span><br><span class="line">	d[n+<span class="number">1</span>] = c;</span><br><span class="line"> </span><br><span class="line">	<span class="built_in">ms</span>(dp,inf);</span><br><span class="line">	dp[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n+<span class="number">1</span>;i++) {</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;i;j++) {</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">1</span>;k&lt;i;k++) {</span><br><span class="line">				dp[i][j] = <span class="built_in">min</span>(dp[i][j], dp[k][j<span class="number">-1</span>] + (d[i]-d[k])*v[k]);</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="type">int</span> res = inf;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=n-p;i&lt;=n;i++) res = <span class="built_in">min</span>(res, dp[n+<span class="number">1</span>][i]);</span><br><span class="line"> </span><br><span class="line">	cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">}</span><br><span class="line"> </span><br></pre></td></tr></table></figure>
<h3 id="balanced-stone-heaps">Balanced Stone Heaps</h3>
<h4 id="题目大意-38">题目大意</h4>
<p>现在有n堆石子，你可以对每一堆执行操作：选择一个编号大于2的堆i，选择其中d个石子，分成三份，一份给第i-1堆，两份给第i-2堆。在这个过程中，最小堆中的最大棋子数是多少？</p>
<h4 id="代码思路-38">代码思路</h4>
<p>一个堆可以传递石子给前两个堆，我们倒着考虑，最终结果是让每一堆尽可能的均匀，这样才能获得最小堆中的最大值，所以我们二分这个答案，check时都从后往前递推，前面石子给到的带上自己的尽可能往后传，遇到不满足答案的就跳出。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="type">int</span> temp;</span><br><span class="line">	<span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v</span><span class="params">(n+<span class="number">1</span>)</span></span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=n;i&gt;=<span class="number">3</span>;i--) {</span><br><span class="line">		<span class="keyword">if</span>(a[i]+v[i]&lt;x) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		temp = <span class="built_in">min</span>(a[i], a[i]+v[i]-x);</span><br><span class="line">		<span class="type">int</span> c = temp/<span class="number">3</span>;</span><br><span class="line">		v[i<span class="number">-1</span>] += c;</span><br><span class="line">		v[i<span class="number">-2</span>] += <span class="number">2</span>*c;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span>(a[<span class="number">1</span>]+v[<span class="number">1</span>]&lt;x||a[<span class="number">2</span>]+v[<span class="number">2</span>]&lt;x) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line"> </span><br><span class="line">	<span class="type">int</span> l = <span class="number">1</span>,r = inf;</span><br><span class="line">	<span class="keyword">while</span>(l&lt;r) {</span><br><span class="line">		<span class="type">int</span> mid = (l+r+<span class="number">1</span>)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">check</span>(mid)) l = mid;</span><br><span class="line">		<span class="keyword">else</span> r = mid<span class="number">-1</span>;</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	cout&lt;&lt;l&lt;&lt;endl;</span><br><span class="line">}</span><br><span class="line"> </span><br></pre></td></tr></table></figure>
<h3 id="number-game">Number Game</h3>
<h4 id="题目大意-39">题目大意</h4>
<p>A和B玩游戏，有一个长度为n的数组，游戏开始，A选择一个整数k，游戏持续k轮，A拿一个小于k-i+1的数，B把一个数添加值k-i+1，求能让A必胜且拿数最多的k值。</p>
<h4 id="代码思路-39">代码思路</h4>
<p>A可以拿走一个数，要紧大的拿，B可以让一个数永远不被拿走，要紧小的加值。因此可以暴力枚举A和B的操作。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line">	<span class="built_in">sort</span>(a+<span class="number">1</span>,a+<span class="number">1</span>+n);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=n;i&gt;=<span class="number">0</span>;i--) {</span><br><span class="line">		<span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">		<span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">		<span class="type">int</span> st = <span class="number">0</span>;</span><br><span class="line">		<span class="type">int</span> temp = i;</span><br><span class="line">		<span class="type">int</span> j=n;</span><br><span class="line">		<span class="keyword">while</span>(j&gt;cnt) {</span><br><span class="line">			<span class="keyword">while</span>(j&gt;cnt&amp;&amp;a[j]&gt;temp) j--; </span><br><span class="line">			<span class="keyword">if</span>(j&gt;cnt&amp;&amp;a[j]&lt;=temp) res++;</span><br><span class="line">			cnt++;</span><br><span class="line">			j--;</span><br><span class="line">			temp--;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(res&gt;=i) {</span><br><span class="line">			cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">			<span class="keyword">return</span> ;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="good-subarrays">Good Subarrays</h3>
<h4 id="题目大意-40">题目大意</h4>
<p>给你一个数组，对于他的每一个子数组，如果子数组的平均值为1，他们就是好的，求这个数组有多少个好的子数组。</p>
<h4 id="代码思路-40">代码思路</h4>
<p>需要对所有好的子数组计数，对于两个相邻的子数组，他们会连在一起成为一个较大的新的好的子数组，所以我们可以统计出所有好的子数组的起始位置，然后再统计出有多少好的子数组是相邻在一起的，进而统计所有的好的子数组。</p>
<p>我们可以让数组的每一个元素-1，然后统计出前缀和，对于一段原数组的平均值是1的子数组，在这里就是两个元素的值相等，统计出现的元素的所有位置，相邻的两个元素都可以：[i-1,i]在原数组中是一段平均值为1的子数组。标记出任意一个元素可以跳转到哪一个元素，即它与它后面哪一个位置连接起来是满足条件的子数组，可以证明：一个位置只可能有两次跳跃，一次是前面元素跳向他，一次是他跳向后面元素。</p>
<p>利用跳转标记可以统计出所有相邻的好的数组，然后统计最后答案即可。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">char</span> s[N];</span><br><span class="line"><span class="type">int</span> tz[N],st[N];</span><br><span class="line"><span class="type">int</span> a[N],b[N];</span><br><span class="line">unordered_map&lt;<span class="type">int</span>,<span class="type">int</span>&gt; mp;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=n+<span class="number">1</span>;i++) tz[i] = <span class="number">0</span>, st[i] = <span class="number">0</span>, a[i] = <span class="number">0</span>, b[i] = <span class="number">0</span>;</span><br><span class="line">	cin&gt;&gt;(s+<span class="number">1</span>);</span><br><span class="line">	mp.<span class="built_in">clear</span>();</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		a[i] = s[i]-<span class="string">'0'</span><span class="number">-1</span>, b[i] = b[i<span class="number">-1</span>] + a[i];</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v[n+<span class="number">10</span>];</span><br><span class="line">	<span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=n;i++) {</span><br><span class="line">		<span class="keyword">if</span>(mp[b[i]]==<span class="number">0</span>) mp[b[i]] = ++cnt;</span><br><span class="line">		<span class="type">int</span> temp = mp[b[i]];</span><br><span class="line">		v[temp].<span class="built_in">push_back</span>(i);</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=cnt;i++) {</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;v[i].<span class="built_in">size</span>();j++) {</span><br><span class="line">			tz[v[i][j<span class="number">-1</span>]+<span class="number">1</span>] = v[i][j];</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	<span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) {</span><br><span class="line">		<span class="keyword">if</span>(tz[i]&amp;&amp;st[i]==<span class="number">0</span>) {</span><br><span class="line">			<span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">			<span class="type">int</span> j = i;</span><br><span class="line">			<span class="keyword">while</span>(tz[j]&amp;&amp;st[j]==<span class="number">0</span>) {</span><br><span class="line">				st[j] = <span class="number">1</span>;</span><br><span class="line">				cnt++;</span><br><span class="line">				j = tz[j]+<span class="number">1</span>;</span><br><span class="line">			}</span><br><span class="line">			res += (cnt*(cnt+<span class="number">1</span>))/<span class="number">2</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"> </span><br><span class="line">	cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line"> </span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://example.com">TangM</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2022/10/08/%E5%8D%81%E6%9C%88%E6%80%9D%E7%BB%B4%E4%B8%93%E7%BB%83/">http://example.com/2022/10/08/%E5%8D%81%E6%9C%88%E6%80%9D%E7%BB%B4%E4%B8%93%E7%BB%83/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">TangM</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://s2.loli.net/2022/12/01/xgdZ61ciJNY2P3S.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/11/29/2023%E5%AF%92%E5%81%87%E9%9B%86%E8%AE%ADCF%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/"><img class="prev-cover" src="https://s2.loli.net/2022/12/01/xgdZ61ciJNY2P3S.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">2023寒假集训CF刷题记录</div></div></a></div><div class="next-post pull-right"><a href="/2022/10/08/cf%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E9%9B%86%E9%A2%98/"><img class="next-cover" src="https://s2.loli.net/2022/12/01/xgdZ61ciJNY2P3S.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">cf动态规划集题</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://s2.loli.net/2022/12/01/9zEJ3l7L2oTfOXB.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">TangM</div><div class="author-info__description">一只小菜鸡</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">7</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/TangM666"><i></i><span>🛴前往小家...</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content"><center>主域名：<br><a target="_blank" rel="noopener" href="https://www.tangm.fun"><b><font color="#5ea6e5">tangm.fun</font></b></a>&nbsp;</b></a><br><a href="mailto:admin@fomal.cn">📬：<b><font color="#a591e0">914831916@qq.com</font></b></a></center></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#ela-sorting-books"><span class="toc-number">1.</span> <span class="toc-text">Ela Sorting Books</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F"><span class="toc-number">1.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF"><span class="toc-number">1.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#elas-fitness-and-the-luxury-number"><span class="toc-number">2.</span> <span class="toc-text">Ela&#39;s Fitness and the Luxury
Number</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-1"><span class="toc-number">2.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-1"><span class="toc-number">2.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ela-and-crickets"><span class="toc-number">3.</span> <span class="toc-text">Ela and Crickets</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-2"><span class="toc-number">3.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-2"><span class="toc-number">3.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#even-number-addicts"><span class="toc-number">4.</span> <span class="toc-text">Even Number Addicts</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-3"><span class="toc-number">4.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-3"><span class="toc-number">4.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#meta-set"><span class="toc-number">5.</span> <span class="toc-text">Meta-set</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-4"><span class="toc-number">5.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-4"><span class="toc-number">5.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#monoblock"><span class="toc-number">6.</span> <span class="toc-text">Monoblock</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-5"><span class="toc-number">6.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-5"><span class="toc-number">6.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tree-infection"><span class="toc-number">7.</span> <span class="toc-text">Tree Infection</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-6"><span class="toc-number">7.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-6"><span class="toc-number">7.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sending-a-sequence-over-the-network"><span class="toc-number">8.</span> <span class="toc-text">Sending a Sequence Over the
Network</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-7"><span class="toc-number">8.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-7"><span class="toc-number">8.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#masha-and-a-beautiful-tree"><span class="toc-number">9.</span> <span class="toc-text">Masha and a Beautiful Tree</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-8"><span class="toc-number">9.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-8"><span class="toc-number">9.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#minimize-the-thickness"><span class="toc-number">10.</span> <span class="toc-text">Minimize the Thickness</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-9"><span class="toc-number">10.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-9"><span class="toc-number">10.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#funny-permutation"><span class="toc-number">11.</span> <span class="toc-text">Funny Permutation</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-10"><span class="toc-number">11.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-10"><span class="toc-number">11.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#compare-t-shirt-sizes"><span class="toc-number">12.</span> <span class="toc-text">Compare T-Shirt Sizes</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-11"><span class="toc-number">12.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-11"><span class="toc-number">12.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#maximum-product-strikes-back"><span class="toc-number">13.</span> <span class="toc-text">Maximum Product Strikes Back</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-12"><span class="toc-number">13.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-12"><span class="toc-number">13.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#matrix-and-shifts"><span class="toc-number">14.</span> <span class="toc-text">Matrix and Shifts</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-13"><span class="toc-number">14.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-13"><span class="toc-number">14.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#good-subarrays-easy-version"><span class="toc-number">15.</span> <span class="toc-text">Good Subarrays (Easy Version)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-14"><span class="toc-number">15.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-14"><span class="toc-number">15.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#playing-with-gcd"><span class="toc-number">16.</span> <span class="toc-text">Playing with GCD</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-15"><span class="toc-number">16.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-15"><span class="toc-number">16.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#make-a-equal-to-b"><span class="toc-number">17.</span> <span class="toc-text">Make A Equal to B</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-16"><span class="toc-number">17.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-16"><span class="toc-number">17.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#line-empire"><span class="toc-number">18.</span> <span class="toc-text">Line Empire</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-17"><span class="toc-number">18.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-17"><span class="toc-number">18.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#easy-version"><span class="toc-number">19.</span> <span class="toc-text">388535 (Easy Version)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-18"><span class="toc-number">19.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-18"><span class="toc-number">19.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#factorials-and-powers-of-two"><span class="toc-number">20.</span> <span class="toc-text">Factorials and Powers of Two</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-19"><span class="toc-number">20.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-19"><span class="toc-number">20.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shinju-and-the-lost-permutation"><span class="toc-number">21.</span> <span class="toc-text">Shinju and the Lost
Permutation</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-20"><span class="toc-number">21.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-20"><span class="toc-number">21.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#orray"><span class="toc-number">22.</span> <span class="toc-text">Orray</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-21"><span class="toc-number">22.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-21"><span class="toc-number">22.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cross-coloring"><span class="toc-number">23.</span> <span class="toc-text">Cross Coloring</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-22"><span class="toc-number">23.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-22"><span class="toc-number">23.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#permutation-operations"><span class="toc-number">24.</span> <span class="toc-text">Permutation Operations</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-23"><span class="toc-number">24.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-23"><span class="toc-number">24.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#divisibility-by-2n"><span class="toc-number">25.</span> <span class="toc-text">Divisibility by 2^n</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-24"><span class="toc-number">25.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-24"><span class="toc-number">25.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#divisible-numbers-easy-version"><span class="toc-number">26.</span> <span class="toc-text">Divisible Numbers (easy
version)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-25"><span class="toc-number">26.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-25"><span class="toc-number">26.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#make-them-equal"><span class="toc-number">27.</span> <span class="toc-text">Make Them Equal</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-26"><span class="toc-number">27.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-26"><span class="toc-number">27.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#strange-test"><span class="toc-number">28.</span> <span class="toc-text">Strange Test</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-27"><span class="toc-number">28.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-27"><span class="toc-number">28.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#and-matching"><span class="toc-number">29.</span> <span class="toc-text">And Matching</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-28"><span class="toc-number">29.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-28"><span class="toc-number">29.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#save-the-magazines"><span class="toc-number">30.</span> <span class="toc-text">Save the Magazines</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-29"><span class="toc-number">30.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-29"><span class="toc-number">30.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#problem-with-random-tests"><span class="toc-number">31.</span> <span class="toc-text">Problem with Random Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-30"><span class="toc-number">31.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-30"><span class="toc-number">31.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#peculiar-movie-preferences"><span class="toc-number">32.</span> <span class="toc-text">Peculiar Movie Preferences</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-31"><span class="toc-number">32.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-31"><span class="toc-number">32.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#monsters-and-spells"><span class="toc-number">33.</span> <span class="toc-text">Monsters And Spells</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-32"><span class="toc-number">33.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-32"><span class="toc-number">33.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#integers-shop"><span class="toc-number">34.</span> <span class="toc-text">Integers Shop</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-33"><span class="toc-number">34.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-33"><span class="toc-number">34.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hidden-permutations"><span class="toc-number">35.</span> <span class="toc-text">Hidden Permutations</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-34"><span class="toc-number">35.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-34"><span class="toc-number">35.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#set-or-decrease"><span class="toc-number">36.</span> <span class="toc-text">Set or Decrease</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-35"><span class="toc-number">36.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-35"><span class="toc-number">36.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#representative-edges"><span class="toc-number">37.</span> <span class="toc-text">Representative Edges</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-36"><span class="toc-number">37.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-36"><span class="toc-number">37.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#road-optimization"><span class="toc-number">38.</span> <span class="toc-text">Road Optimization</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-37"><span class="toc-number">38.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-37"><span class="toc-number">38.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#balanced-stone-heaps"><span class="toc-number">39.</span> <span class="toc-text">Balanced Stone Heaps</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-38"><span class="toc-number">39.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-38"><span class="toc-number">39.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#number-game"><span class="toc-number">40.</span> <span class="toc-text">Number Game</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-39"><span class="toc-number">40.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-39"><span class="toc-number">40.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#good-subarrays"><span class="toc-number">41.</span> <span class="toc-text">Good Subarrays</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-40"><span class="toc-number">41.1.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%80%9D%E8%B7%AF-40"><span class="toc-number">41.2.</span> <span class="toc-text">代码思路</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-image: url('https://s2.loli.net/2022/12/01/xgdZ61ciJNY2P3S.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2022 By TangM</div><div class="footer_custom_text">I wish you to become your own sun, no need to rely on who's light.<p><a target="_blank" href="https://hexo.io/"><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo" title="博客框架为Hexo"></a>&nbsp;<a target="_blank" href="https://butterfly.js.org/"><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender" title="主题采用butterfly"></a>&nbsp;<a target="_blank" href="https://www.jsdelivr.com/"><img src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&logo=jsDelivr" title="本站使用JsDelivr为静态资源提供CDN加速"></a> &nbsp;<a target="_blank" href="https://vercel.com/ "><img src="https://img.shields.io/badge/Hosted-Vervel-brightgreen?style=flat&logo=Vercel" title="本站采用双线部署，默认线路托管于Vercel"></a>&nbsp;<a target="_blank" href="https://vercel.com/ "><img src="https://img.shields.io/badge/Hosted-Coding-0cedbe?style=flat&logo=Codio" title="本站采用双线部署，联通线路托管于Coding"></a>&nbsp;<a target="_blank" href="https://github.com/"><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&logo=GitHub" title="本站项目由Gtihub托管"></a>&nbsp;<a target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"></a></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container').forEach(node => {
            if (node.hasAttribute('display')) {
              btf.wrap(node, 'div', { class: 'mathjax-overflow' })
            } else {
              btf.wrap(node, 'span', { class: 'mathjax-overflow' })
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"]):not([href="/music/"]):not([href="/no-pjax/"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>